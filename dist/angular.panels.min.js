!function(e){"use strict";var n=e.module("angular.panels",[]);n.constant("panelList",{}),n.provider("panels",["panelList",function(n){this.add=function(e){return e&&e.id&&(n[e.id]=e),this},this.$get=["$parse",function(t){var o=e.element(document.body),s={opened:void 0,open:function(e){if(o.addClass("overflow-hidden"),s.opened&&s.close(s.opened),e&&n[e]){var i=n[e],a=i.element,l=a.scope(),c=t(i.openCallbackFunction)(l);a.attr("style",s.style(i,!0)),"function"==typeof c&&c()}s.opened=e},close:function(){if(o.removeClass("overflow-hidden"),s.opened&&n[s.opened]){var e=n[s.opened],i=e.element,a=i.scope(),l=t(e.closeCallbackFunction)(a);i.attr("style",s.style(e,!1)),"function"==typeof l&&l()}s.opened=void 0},style:function(e,n){switch(e.position){case"top":case"bottom":return e.position+":"+(n?"0;":"-"+e.size+";")+"height:"+e.size;case"left":case"right":return e.position+":"+(n?"0;":"-"+e.size+";")+"width:"+e.size}}};return s}]}]),n.directive("panels",["$http","$templateCache","$compile","panels","panelList",function(n,t,o,s,i){return{restrict:"A",scope:{},controller:["$scope",function(e){e.panels=s}],link:function(a,l,c){e.forEach(i,function(c,p){n.get(c.templateUrl,{cache:t}).success(function(n){var n='<div style="'+s.style(c)+'" class="panels panel-'+c.position+'" data-ng-class="{open : panels.opened==\''+c.id+'\'}"  data-ng-controller="'+c.controller+'">'+n+"</div>",t=o(n)(a);l.append(t),i[p].element=e.element(t)})}),l.append(o('<div class="dimming" data-ng-class="{open : panels.opened}" data-ng-click="panels.close();"></div>')(a))}}}])}(angular);